<?xml version="1.0" ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!-- saved from url=(0017)http://localhost/ -->
<script language="JavaScript" src="../../../displayToc.js"></script>
<script language="JavaScript" src="../../../tocParas.js"></script>
<script language="JavaScript" src="../../../tocTab.js"></script>
<link rel="stylesheet" type="text/css" href="../../../scineplex.css">
<title>Net::SCP - Perl extension for secure copy protocol</title>
<link rel="stylesheet" href="../../../Active.css" type="text/css" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:" />
</head>

<body>

<script>writelinks('__top__',3);</script>
<h1><a>Net::SCP - Perl extension for secure copy protocol</a></h1>
<p><a name="__index__"></a></p>

<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#subroutines">SUBROUTINES</a></li>
	<li><a href="#methods">METHODS</a></li>
	<li><a href="#frequently_asked_questions">FREQUENTLY ASKED QUESTIONS</a></li>
	<li><a href="#authors">AUTHORS</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Net::SCP - Perl extension for secure copy protocol</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
  <span class="comment">#procedural interface</span>
  <span class="keyword">use</span> <span class="variable">Net::SCP</span> <span class="string">qw(scp iscp)</span><span class="operator">;</span>
  <span class="variable">scp</span><span class="operator">(</span><span class="variable">$source</span><span class="operator">,</span> <span class="variable">$destination</span><span class="operator">);</span>
  <span class="variable">iscp</span><span class="operator">(</span><span class="variable">$source</span><span class="operator">,</span> <span class="variable">$destination</span><span class="operator">);</span> <span class="comment">#shows command, asks for confirmation, and</span>
                               <span class="comment">#allows user to type a password on tty</span>
</pre>
<pre>
  <span class="comment">#OO interface</span>
  <span class="variable">$scp</span> <span class="operator">=</span> <span class="variable">Net::SCP</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="string">"hostname"</span><span class="operator">,</span> <span class="string">"username"</span> <span class="operator">);</span>
  <span class="comment">#with named params</span>
  <span class="variable">$scp</span> <span class="operator">=</span> <span class="variable">Net::SCP</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span> <span class="operator">{</span> <span class="string">"host"</span><span class="operator">=&gt;</span><span class="variable">$hostname</span><span class="operator">,</span> <span class="string">"user"</span><span class="operator">=&gt;</span><span class="variable">$username</span> <span class="operator">}</span> <span class="operator">);</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">"filename"</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">errstr</span><span class="operator">}</span><span class="operator">;</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">put</span><span class="operator">(</span><span class="string">"filename"</span><span class="operator">)</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="operator">{</span><span class="string">errstr</span><span class="operator">}</span><span class="operator">;</span>
  <span class="comment">#tmtowtdi</span>
  <span class="variable">$scp</span> <span class="operator">=</span> <span class="variable">new</span> <span class="variable">Net::SCP</span><span class="operator">;</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">scp</span><span class="operator">(</span><span class="variable">$source</span><span class="operator">,</span> <span class="variable">$destination</span><span class="operator">);</span>
</pre>
<pre>
  <span class="comment">#Net::FTP-style</span>
  <span class="variable">$scp</span> <span class="operator">=</span> <span class="variable">Net::SCP</span><span class="operator">-&gt;</span><span class="variable">new</span><span class="operator">(</span><span class="string">"hostname"</span><span class="operator">);</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">login</span><span class="operator">(</span><span class="string">"user"</span><span class="operator">);</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">cwd</span><span class="operator">(</span><span class="string">"/dir"</span><span class="operator">);</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">size</span><span class="operator">(</span><span class="string">"file"</span><span class="operator">);</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">get</span><span class="operator">(</span><span class="string">"file"</span><span class="operator">);</span>
  <span class="variable">$scp</span><span class="operator">-&gt;</span><span class="variable">quit</span><span class="operator">;</span>
</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Simple wrappers around ssh and scp commands.</p>
<p>
</p>
<hr />
<h1><a name="subroutines">SUBROUTINES</a></h1>
<dl>
<dt><strong><a name="item_scp">scp SOURCE, DESTINATION</a></strong>

<dd>
<p>Can be called either as a subroutine or a method; however, the subroutine
interface is depriciated.</p>
</dd>
<dd>
<p>Calls scp in batch mode, with the <strong>-B</strong> <strong>-p</strong> <strong>-q</strong> and <strong>-r</strong> options.
Returns false upon error, with a text error message accessable in
$scp-&gt;{errstr}.</p>
</dd>
<dd>
<p>Returns false and sets the <strong>errstr</strong> attribute if there is an error.</p>
</dd>
</li>
<dt><strong><a name="item_iscp">iscp SOURCE, DESTINATION</a></strong>

<dd>
<p>Can be called either as a subroutine or a method; however, the subroutine
interface is depriciated.</p>
</dd>
<dd>
<p>Prints the scp command to be execute, waits for the user to confirm, and
(optionally) executes scp, with the <strong>-p</strong> and <strong>-r</strong> flags.</p>
</dd>
<dd>
<p>Returns false and sets the <strong>errstr</strong> attribute if there is an error.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="methods">METHODS</a></h1>
<dl>
<dt><strong><a name="item_new_hostname__5b_user__5d__7c_hashref">new HOSTNAME [ USER ] | HASHREF</a></strong>

<dd>
<p>This is the constructor for a new Net::SCP object.  You must specify a
hostname, and may optionally provide a user.  Alternatively, you may pass a
hashref of named params, with the following keys:</p>
</dd>
<dd>
<pre>
    host - hostname
    user - username
    interactive - bool
    cwd - current working directory on remote server</pre>
</dd>
</li>
<dt><strong><a name="item_login__5buser_5d">login [USER]</a></strong>

<dd>
<p>Compatibility method.  Optionally sets the user.</p>
</dd>
</li>
<dt><strong><a name="item_cwd">cwd CWD</a></strong>

<dd>
<p>Sets the cwd (used for a subsequent get or put request without a full pathname).</p>
</dd>
</li>
<dt><strong><a name="item_get_remote_file__5b_2c_local_file_5d">get REMOTE_FILE [, LOCAL_FILE]</a></strong>

<dd>
<p>Uses scp to transfer REMOTE_FILE from the remote host.  If a local filename is
omitted, uses the basename of the remote file.</p>
</dd>
</li>
<dt><strong><a name="item_mkdir">mkdir DIRECTORY</a></strong>

<dd>
<p>Makes a directory on the remote server.  Returns false and sets the <strong>errstr</strong>
attribute on errors.</p>
</dd>
<dd>
<p>(Implementation note: An ssh connection is established to the remote machine
and '/bin/mkdir <strong>-p</strong>' is used to create the directory.)</p>
</dd>
</li>
<dt><strong><a name="item_size">size FILE</a></strong>

<dd>
<p>Returns the size in bytes for the given file as stored on the remote server.
Returns 0 on error, and sets the <strong>errstr</strong> attribute.  In the case of an actual
zero-length file on the remote server, the special value '0e0' is returned,
which evaluates to zero when used as a number, but is true.</p>
</dd>
<dd>
<p>(Implementation note: An ssh connection is established to the remote machine
and wc is used to determine the file size.)</p>
</dd>
</li>
<dt><strong><a name="item_put_local_file__5b_2c_remote_file_5d">put LOCAL_FILE [, REMOTE_FILE]</a></strong>

<dd>
<p>Uses scp to trasnfer LOCAL_FILE to the remote host.  If a remote filename is
omitted, uses the basename of the local file.</p>
</dd>
</li>
<dt><strong><a name="item_binary">binary</a></strong>

<dd>
<p>Compatibility method: does nothing; returns true.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="frequently_asked_questions">FREQUENTLY ASKED QUESTIONS</a></h1>
<p>Q: How do you supply a password to connect with ssh within a perl script
using the Net::SSH module?</p>
<p>A: You don't.  Use RSA or DSA keys.  See the ssh-keygen(1) manpage.</p>
<p>Q: My script is ``leaking'' ssh processes.</p>
<p>A: See <a href="../../../lib/Pod/perlfaq8.html#how_do_i_avoid_zombies_on_a_unix_system">How do I avoid zombies on a Unix system in the perlfaq8 manpage</a>, <a href="../../../lib/IPC/Open2.html">the IPC::Open2 manpage</a>,
<a href="../../../lib/IPC/Open3.html">the IPC::Open3 manpage</a> and <a href="../../../lib/Pod/perlfunc.html#waitpid">waitpid in the perlfunc manpage</a>.</p>
<p>
</p>
<hr />
<h1><a name="authors">AUTHORS</a></h1>
<p>Ivan Kohler &lt;<a href="mailto:ivan-netscp_pod@420.am">ivan-netscp_pod@420.am</a>&gt;</p>
<p>Major updates Anthony Deaver &lt;<a href="mailto:bishop@projectmagnus.org">bishop@projectmagnus.org</a>&gt;</p>
<p>Thanks to Jon Gunnip &lt;<a href="mailto:jon@soundbite.com">jon@soundbite.com</a>&gt; for fixing a bug with size().</p>
<p>Patch for the mkdir method by Anthony Awtrey &lt;<a href="mailto:tony@awtrey.com">tony@awtrey.com</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright (c) 2000 Ivan Kohler.
Copyright (c) 2000 Silicon Interactive Software Design.
Copyright (c) 2000 Freeside Internet Services, LLC
All rights reserved.
This program is free software; you can redistribute it and/or modify it under
the same terms as Perl itself.</p>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>Still has no-OO cruft.</p>
<p>In order to work around some problems with commercial SSH2, if the source file
is on the local system, and is not a directory, the <strong>-r</strong> flag is omitted.</p>
<p>It's probably better just to use SSH1 or OpenSSH &lt;http://www.openssh.com/&gt;</p>
<p>The Net::FTP-style OO stuff is kinda lame.  And incomplete.</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>scp(1), <code>ssh(1)</code></p>

</body>

</html>
